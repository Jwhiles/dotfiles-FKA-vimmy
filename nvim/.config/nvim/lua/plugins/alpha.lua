local Remap = require('remap')
local nnoremap = Remap.nnoremap

local obsidianLogo = {
[[  ░▒▓██████▓▒░░▒▓███████▓▒░ ░▒▓███████▓▒░▒▓█▓▒░▒▓███████▓▒░░▒▓█▓▒░░▒▓██████▓▒░░▒▓███████▓▒░   ]],
[[ ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
[[ ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
[[ ░▒▓█▓▒░░▒▓█▓▒░▒▓███████▓▒░ ░▒▓██████▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓████████▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
[[ ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
[[ ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
[[  ░▒▓██████▓▒░░▒▓███████▓▒░░▒▓███████▓▒░░▒▓█▓▒░▒▓███████▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░  ]],
}

local obsidianLogoTwo = {
[[      ,----..                                                                                   ]],
[[     /   /   \                                                                                  ]],
[[    /   .     :   ,---,                 ,--,         ,---,  ,--,                                ]],
[[   .   /   ;.  \,---.'|               ,--.'|       ,---.'|,--.'|                     ,---,      ]],
[[  .   ;   /  ` ;|   | :     .--.--.   |  |,        |   | :|  |,                  ,-+-. /  |     ]],
[[  ;   |  ; \ ; |:   : :    /  /    '  `--'_        |   | |`--'_      ,--.--.    ,--.'|'   |     ]],
[[  |   :  | ; | ':     |,-.|  :  /`./  ,' ,'|     ,--.__| |,' ,'|    /       \  |   |  ,"' |     ]],
[[  .   |  ' ' ' :|   : '  ||  :  ;_    '  | |    /   ,'   |'  | |   .--.  .-. | |   | /  | |     ]],
[[  '   ;  \; /  ||   |  / : \  \    `. |  | :   .   '  /  ||  | :    \__\/: . . |   | |  | |     ]],
[[   \   \  ',  / '   : |: |  `----.   \'  : |__ '   ; |:  |'  : |__  ," .--.; | |   | |  |/      ]],
[[    ;   :    /  |   | '/ : /  /`--'  /|  | '.'||   | '/  '|  | '.'|/  /  ,.  | |   | |--'       ]],
[[     \   \ .'   |   :    |'--'.     / ;  :    ;|   :    :|;  :    ;  :   .'   \|   |/           ]],
[[      `---`     /    \  /   `--'---'  |  ,   /  \   \  /  |  ,   /|  ,     .-./'---'            ]],
[[                `-'----'               ---`-'    `----'    ---`-'  `--`---'                     ]],
}

local obsidianLogos = { obsidianLogo, obsidianLogoTwo }


local neovimLogo = {
						"                                                     ",
						"  ███╗   ██╗███████╗ ██████╗ ██╗   ██╗██╗███╗   ███╗ ",
						"  ████╗  ██║██╔════╝██╔═══██╗██║   ██║██║████╗ ████║ ",
						"  ██╔██╗ ██║█████╗  ██║   ██║██║   ██║██║██╔████╔██║ ",
						"  ██║╚██╗██║██╔══╝  ██║   ██║╚██╗ ██╔╝██║██║╚██╔╝██║ ",
						"  ██║ ╚████║███████╗╚██████╔╝ ╚████╔╝ ██║██║ ╚═╝ ██║ ",
						"  ╚═╝  ╚═══╝╚══════╝ ╚═════╝   ╚═══╝  ╚═╝╚═╝     ╚═╝ ",
						"                                                     ",
					}

local neovimLogoTwo = {

            [[-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.  ]],
            [[  \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ ]],
            [[ / \   \   / \   \   / \   \   / \   \   / \   \   / \   \   / \   \   / \   \]],
            [['   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' ]],
						[[]],
						[[]],
						[[░▒▓███████▓▒░░▒▓████████▓▒░▒▓██████▓▒░░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓██████████████▓▒░ ]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░     ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░     ░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓██████▓▒░░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░     ░▒▓█▓▒░░▒▓█▓▒░ ░▒▓█▓▓█▓▒░ ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░     ░▒▓█▓▒░░▒▓█▓▒░ ░▒▓█▓▓█▓▒░ ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[░▒▓█▓▒░░▒▓█▓▒░▒▓████████▓▒░▒▓██████▓▒░   ░▒▓██▓▒░  ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓█▓▒░]],
						[[]],
						[[]],
            [[-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.   .-. .-.  ]],
            [[  \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ /   \   \ ]],
            [[ / \   \   / \   \   / \   \   / \   \   / \   \   / \   \   / \   \   / \   \]],
            [['   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' `-'   `-' ]],
					}

function openDailyNote ()
          local date = os.date("%Y-%m-%d")
          vim.cmd(":e daily-notes/" .. date .. ".md")
end

return {
	'goolord/alpha-nvim',
	lazy=false,
	config = function()
		
			local alpha = require("alpha")
			local dashboard = require("alpha.themes.dashboard")
      local cwd = vim.loop.cwd()

			local isObsidian = string.match(cwd, "/Obsidian$") 

			
			if isObsidian 
				then
          local date = os.date("%Y-%m-%d")

					-- Set header
					dashboard.section.header.val = obsidianLogos[ math.random( #obsidianLogos ) ]


					dashboard.section.buttons.val = {
						dashboard.button( "e", "Open daily note for " .. date, openDailyNote),
						dashboard.button( "q", "Quit NVIM", ":qa<CR>"),
					}

          nnoremap('<leader>dn', openDailyNote, { desc = "Open todays daily note" })

				else 

					dashboard.section.header.val = neovimLogo

					-- Set menu
					dashboard.section.buttons.val = {
						dashboard.button( "e", "New file" , ":ene <BAR> startinsert <CR>"),
						dashboard.button( "q", "Quit NVIM", ":qa<CR>"),
					}
				end
			

			-- Send config to alpha
			alpha.setup(dashboard.opts)

			-- Disable folding on alpha buffer
			vim.cmd([[
			autocmd FileType alpha setlocal nofoldenable
			]])

	end,
}
